"use strict";var latitude,longitude,key="87b5841fc97ba543d2ecde0159cee419",day={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"};function getlocation(t,n){fetch("http://api.openweathermap.org/data/2.5/weather?lat=".concat(t,"&lon=").concat(n,"&units=metric&appid=").concat(key)).then(function(t){return t.json()}).then(function(t){currentWeather(t)}),fetch("http://api.openweathermap.org/data/2.5/forecast?lat=".concat(t,"&lon=").concat(n,"&units=metric&appid=").concat(key)).then(function(t){return t.json()}).then(function(t){weatherForcast(t.list)})}function currentWeather(t){document.querySelector(".current-conditions").innerHTML='\n          <h2>Current Conditions</h2>\n          <img src="http://openweathermap.org/img/wn/'.concat(t.weather[0].icon,'@2x.png">\n          <div class="current">\n            <div class="temp">').concat(parseInt(t.main.temp),'&#8451;</div>\n            <div class="condition">').concat(t.weather[0].description,"</div>\n          </div>\n        </div>")}function weatherForcast(t){new Date;var e={},a={},o={},i=document.querySelector(".forecast");t.forEach(function(t){var n=new Date(t.dt_txt);void 0===e[n.toDateString(t.dt_txt)]?(e[n.toDateString(t.dt_txt)]=[t],a[n.toDateString(t.dt_txt)]=[t.main.temp_max],o[n.toDateString(t.dt_txt)]=[t.main.temp_min]):(e[n.toDateString(t.dt_txt)].push(t),a[n.toDateString(t.dt_txt)].push(t.main.temp_max),o[n.toDateString(t.dt_txt)].push(t.main.temp_min)),"12:00:00 PM"===n.toLocaleTimeString()&&i.insertAdjacentHTML("beforeend",'<div class="day">\n      <h3>'.concat(day[n.getDay()],'</h3>\n      <img src="http://openweathermap.org/img/wn/').concat(t.weather[0].icon,'@2x.png">\n      <div class="description">').concat(t.weather[0].description,'</div>\n      <div class="temp">\n        <span class="high">').concat(parseInt(a[n.toDateString(t.dt_txt)]),'&#8451</span>/<span class="low">').concat(parseInt(o[n.toDateString(t.dt_txt)]),"&#8451</span>\n      </div>\n    </div>"))})}navigator.geolocation.getCurrentPosition(function(t){latitude=t.coords.latitude,longitude=t.coords.longitude,getlocation(latitude,longitude)});